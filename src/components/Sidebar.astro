---
import Menu from "./Menu.astro";
const allPosts = await Astro.glob("../pages/posts/*.md");
const tags = [...new Set(allPosts.map((post) => post.frontmatter.tags).flat())];

const menuList = [
    {
        title: "Posts",
        subMenuItems: allPosts.map((post) => ({ title: post.frontmatter.title, href: post.url! })),
    },
    { title: "Tags", href: "/tags", subMenuItems: tags.map((tag) => ({ title: tag, href: `/tags/${tag}` })) },
];
---

<div class="bg-blue-500">
    <div class="flex flex-col gap-2 p-2">
        <Menu menuList={menuList} />
    </div>
</div>
